<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- iOS safari optimization for zooming -->
    <script type="text/javascript">
        document.ontouchmove = function(event){
        event.preventDefault();
        }
    </script>
    <meta name="description" content="">
    <meta name="author" content="Utrecht University">
    <title>Interactive Narrator</title>

    <!-- Bootstrap core CSS -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <!-- import Font Awesome-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <!-- Import the Google Web Fonts CSS -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!--<link href="static/css/ie10-viewport-bug-workaround.css" rel="stylesheet">-->

    <!-- CSS for dropdown enhancer-->
    <link href="static/css/dropdowns-enhancement.less" rel="stylesheet">
    <!-- CSS for bootstrap-select plugin -->
    <link rel="stylesheet" href="static/css/bootstrap-multiselect.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!-- load VIS.js-->
    <script src="static/js/vis.js"></script>
    <link href="static/css/vis.css" rel="stylesheet" type="text/css"/>
    <!-- end load VIS.js-->

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <!-- Custom styles for this template -->
    <link href="static/css/custom.css" rel="stylesheet">

</head>


<body>
      <nav id= "main-nav" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Interactive Narrator</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="/">Home</a> </li>

          </ul>
            <ul id="useraccountitems" class="nav navbar-nav navbar-right">
                {% if session.get('logged_in') %}
                    <li><a href="/dashboard"><span class="glyphicon glyphicon-dashboard"></span> Dashboard</a></li>
                    <li><a href="/logout"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                {% else %}
                <li><a id="signupbtn" href="/register"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li><a href="/login"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                {% endif %}
            </ul>
        </div><!--/.nav-collapse -->
      </div>
      <div id="topbar-button">
        <a id="topbar-button-a" href="#">Menu<span class="topbar-icon glyphicon glyphicon-menu-down"></span></a>
    </div>
    </nav>
<!-- A wrapper that wraps all of the content -->
<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <li class="sidebar-brand">
            <a id="menu-toggle" href="#">Interactive Narrator<span id="main_icon" class="glyphicon glyphicon glyphicon-menu-hamburger"></span></a>
        </li>
        <ul class="sidebar-nav">

            <!-- </li> -->
            <li>
                <div id="searchinput" class="input-group">
                    <input type="text" id="searchfield" class="form-control" placeholder="Search for...">
                    <span class="input-group-btn">
                      <button id="searchbutton" class="btn btn-default" type="button"><span
                              class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
                    </span>
                </div><!-- /input-group -->
            </li>
            <li>
                <select id="roleselector" multiple="multiple">

                </select>

            </li>
            <li>
                <select id="sprintselector" multiple="multiple">
                </select>
            </li>
            <li>
                <a id="relationships" href="#">Relationships<span id="relationships-on-off">ON</span><span class="sub_icon glyphicon glyphicon-random"
                                                                  aria-hidden="true"></span></a>
            </li>
       <li>
                <a id="canvasImg" href="">Save as PNG<span class="sub_icon glyphicon glyphicon-camera"
                                                                  aria-hidden="true"></span></a>
            </li>
            <li id="weight-slider-li">
                <h5 id="threshold">Node Weight</h5>
                <input type="range" id="weightSlider"
                       name="weightSlider" min="0" max="20" value="0"
                       oninput="weightSliderAmount.value= '≥' + weightSlider.value">

                <output name="weightSliderAmount" id="weightSliderAmount" for="weightSlider">≥0</output>


            </li>
            <li>
                <a id="helpitem" href="#" data-toggle="modal" data-target="#helpModal">Help<span class="sub_icon glyphicon glyphicon-info-sign"
                                                       aria-hidden="true"></span></a>
            </li>
             <li>
                <a id="newset" href="/uploadform"> New Set<span class="sub_icon glyphicon glyphicon-plus-sign"
                                                                  aria-hidden="true"></span></a>
            </li>


        </ul> <!-- End .sidebar-nav-->

    </div><!-- End #sidebar-wrapper -->
    <!-- Modal -->
    <div id="helpModal" class="modal fade" role="dialog">
      <div class="modal-dialog modal-md">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Interactive Narrator Help</h4>
          </div>
          <div class="modal-body">
            <h5>Welcome tot the Interactive Narrator.</h5>
              <p>Interactive Narrator has processed your user stories and made the visualization. </p>
              <p>The visualization
                  consists of nodes and edges: each node represents a concept extracted from one or more user stories, whereas
              an edge stands for a relationship that exists between two concepts inside a user story. A relationship can also
              be of a 'generalization' type, in in which the relationships represents a child-parent hierarchy. These relationships
              can span across user stories and are displayed by a dotted line.</p>
              <p>Double click on a node to see to which user story its concept belongs. The larger the node is, the more often it occurs within your
              set of user stories. Use the Weight Slider to hide nodes below a certain weight limit. Nodes that have a dark blue person shape are
                  concepts that have a 'role function' within a user story.
              Theses are often the actors that carry out certain tasks/behavior that is modeled by the user stories.</p>
              <h6>Usage:</h6>
              <ul>
                  <li>Double click on a node to see user stories</li>
                  <li>Zoom in and out by scrolling</li>
                  <li>Drag the whole visualization by holding down the mouse key</li>
                  <li>Use the Weight Slider to show/hide more important concepts</li>
                  <li>Show/hide concepts by checking/unchecking roles and sprints</li>
              </ul>
              <p>Interactive Narrator works best with Google Chrome</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
    </div> <!-- End Modal -->

    <div id="vis-wrapper"><!--This is the area on the right side -->
        <div class="container-fluid" id="visualization"><!-- This contains the network generated from the data -->
            <div class="row">
                <div id="vis-area" class="col-lg-12">
                    <!-- Load our own visualization script-->
                    <script src="static/js/visualization.js"></script>
                </div> <!-- End .col-lg-12-->
            </div><!-- End .row -->

        </div><!-- End .container-fluid-->
    </div> <!-- End vis-wrapper-->
</div><!--End #wrapper -->

<!-- JAVASCRIPT FILES ===============================
   ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!--<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>-->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<!-- Jquery UI touch support: add this to enable dragging/droppping the lue user stories pop up-->
{#<script src="static/js/jquery.ui.touch-punch.min.js"></script>#}
<!-- Bootstrap Javascript files -->
<script src="static/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!-- <script src="assets/js/ie10-viewport-bug-workaround.js"></script> -->

<!-- Include the Javascript for the dropdown enhancer-->
{#    <script src="static/js/dropdowns-enhancement.js"></script>#}


<!-- Load the JS for the bootstrap-select plugin -->
<script type="text/javascript" src="static/js/bootstrap-multiselect.js"></script>

<script type="text/javascript" src="static/js/sidebar-in.js"></script>


<!-- Open the sidebar menu when clicking the hamburger/a element up top -->
<script>
    $("#menu-toggle").click(function () {
{#        e.stopPropagation();#}
{#        e.preventDefault();#}
        if(!$("#wrapper").hasClass("toggled")){
            $("#wrapper").toggleClass("toggled");
        }
        else{
            $("#wrapper").removeClass("toggled");
        }

    });

</script>

<!-- Javascript to open/close the horizontal header-bar -->
<script>

    $("#topbar-button-a").click(function (e) {

        $("nav").toggleClass("nav-up");

    });

</script>


</body>
</html>
